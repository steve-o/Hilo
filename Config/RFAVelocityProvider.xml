<?xml version="1.0"?>
<PluginFrameworkModule id="VelocityProviderModule">
    <Lib id="RDMPub-Lib" path="%s\Engine\%s\RFAVelocityProvider.dll"/>

    <EventProcessor id="Trade-Pipe" type="Vhayu::EventPipeline">
        <EventMapper id="Trade-Pipe-Mapper" type="Vhayu::AllEventMapper"/>
        <EventConsumer id="Trade-Pipe-Consumer" type="VelocityProvider">
        <!-- RFA Configurations -->
        <!-- rfaConfigDB and appConfigDB values should have 'absolute paths' not relative paths-->
            <Config
            rfaConfigDB="%s\Config\providerRFA.cfg" 
            appConfigDB="%s\Config\providerAPP.cfg" 
            />
            <TradeConsumer id="vvp-trade-publisher" type="VelocityProvider">
            	T  <!-- publish on subject <symbol>.T -->
            </TradeConsumer>
            <QuoteConsumer id="vvp-quote-publisher" type="VelocityProvider">
                Q <!-- publish on subject <symbol>.Q -->
            </QuoteConsumer>
            
            <!-- publish on subject <service>.<record>.<symbol>.T -->
            <!--FlexRecordConsumer id="FlexRecord-Publisher" type="Vhayu::AllEventConsumer" -->
  		  	  <FlexRecordConsumer id="FlexRecord-Publisher" type="VelocityProvider">
      				  <!-- not configurable: publish on subject <symbol>.FR -->
      			</FlexRecordConsumer>
        </EventConsumer>
    </EventProcessor>

</PluginFrameworkModule>
